# ğŸŒï¸ Garmin2ShotPattern

![Garmin2ShotPattern Header](docs/header.png)


Transform Garmin golf shot data into ShotPattern app format with an easy-to-use command-line interface.
Tired of manual CSV edits? This tool automates the process! Just hit some shots with your Garmin Launch Monitor on the driving range, export the data, and let Garmin2ShotPattern handle the rest.

## âœ¨ Features
- ğŸª„ **Setup Wizard** - Interactive configuration for your specific clubs and data format
- ğŸ“ **Easy file selection** - Browse and select Garmin CSV files with cursor navigation
- â›³ **Club mapping** - Map your Garmin club names to ShotPattern identifiers
- ğŸ“ **Unit support** - Configure meters/yards for distance and meters/feet/yards for deviation
- ğŸ¯ **Shot type configuration** - Define whether shots are tee shots or approach shots
- ğŸ¨ **Beautiful interface** - Clean, colorful terminal UI with interactive prompts
- ğŸ“Š **Data validation** - Shows club statistics and mapping status before transformation
- âœ‚ï¸ **Shot review** - Review and optionally remove specific shots before export

## ğŸš€ Quick Start

### Prerequisites

- Python 3.11 or higher
- pip (Python package installer)
- make (optional, if you are familiar with python virtual environments)

### Setup

- Python 3.11 or higher
- pip (Python package installer)
- make (optional, if you are familiar with python virtual environments)

#### Setup Environment
(skip if you prefer manual setup)

```bash
make setup
```

This will:
- Create a virtual environment
- Install all required dependencies
- Prepare the application for use

#### First Time Configuration

Before transforming data, run the setup wizard to configure your club mappings:

```bash
make configure
# or
python setup_wizard.py
```

This interactive wizard will:
1. Ask for your preferred units (meters/yards, meters/feet/yards)
2. Map columns in your Garmin CSV files
3. Map your specific Garmin clubs to ShotPattern club identifiers
4. Set default total distances for each club. This will be used as the target to calculate shot deviation.
5. Save configuration to `config.json`

You can re-run the wizard anytime to update your configuration.

#### Running the Application

```bash
make run
```

Or manually:
```bash
# Activate virtual environment
source venv/bin/activate

# Run the application
python transform.py
```

#### Available Make Commands

```bash
make help      # Show all available commands
make setup     # Create virtual environment and install dependencies
make configure # Run setup wizard to configure club mappings
make run       # Run the application
make clean     # Remove cache files
make install   # Install/update dependencies only
```

## ğŸ“ Project Structure

```
garmin2shotpattern/
â”œâ”€â”€ transform.py              # Main CLI application
â”œâ”€â”€ setup_wizard.py          # Configuration wizard
â”œâ”€â”€ enums.py                 # ShotPattern club identifiers
â”œâ”€â”€ config.json              # User configuration (generated by setup)
â”œâ”€â”€ requirements.txt         # Python dependencies
â”œâ”€â”€ Makefile                 # Build automation
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ garmin/              # Place Garmin CSV files here
â”‚   â”œâ”€â”€ output/              # Transformed CSV files
â”‚   â””â”€â”€ template/            # Template file
â””â”€â”€ README.md               # This file
```

## âš™ï¸ Configuration

### Configuration File (config.json)

The `config.json` file is generated by running `make configure` and stores your personal setup:

It will handle the column mapping as the Garmin Application has localized column headers.

```json
{
  "units": {
    "distance": "meters",
    "deviation": "meters"
  },
  "column_mapping": {
    "Club": "SchlÃ¤gername",
    "Total": "Gesamtstrecke",
    "Side": "Gesamtabweichungsdistanz"
  },
  "club_mappings": {
    "Stealth I7": "7i",
    "Stealth I8": "8i",
    "Stealth AW 49Â°": "GW"
  },
  "target_distances": {
    "7i": "150",
    "8i": "140",
    "GW": "110"
  }
}
```

**Configuration Options:**

- `units.distance`: Display unit for distances ("meters" or "yards")
- `units.deviation`: Display unit for deviations ("meters", "feet", or "yards")
- `column_mapping`: Maps ShotPattern columns to your Garmin CSV column names
- `club_mappings`: Maps your specific Garmin club names to ShotPattern identifiers
- `target_distances`: Default target distance for each club

### ShotPattern Club Identifiers

The `shotpattern_enums.py` file contains all valid ShotPattern club identifiers:

**Drivers & Woods:**
- `Dr` (Driver)
- `2W`, `3W`, `4W`, `5W`, `7W`, `9W`, `11W`, `13W`, `15W`

**Hybrids:**
- `1Hy`, `2Hy`, `3Hy`, `4Hy`, `5Hy`, `6Hy`, `7Hy`, `8Hy`, `9Hy`, `10Hy`, `11Hy`, `12Hy`, `13Hy`, `14Hy`, `15Hy`

**Irons:**
- `1i`, `2i`, `3i`, `4i`, `5i`, `6i`, `7i`, `8i`, `9i`, `10i`, `11i`

**Wedges:**
- `PW` (Pitching Wedge)
- `GW` (Gap Wedge)
- `SW` (Sand Wedge)
- `LW` (Lob Wedge)
- `48Â°`, `49Â°`, `50Â°`, `51Â°`, `52Â°`, `53Â°`, `54Â°`, `55Â°`, `56Â°`, `57Â°`, `58Â°`, `59Â°`, `60Â°`, `61Â°`, `62Â°`, `63Â°`, `64Â°`

**Putter:**
- `Putter`

## ğŸ® Usage

1. **Create some data!**
    - Run a Driving Range session in the Garmin Golf app
    - Hit shots with your clubs to your default target distances of that club.
    - Export the session data as a CSV file and place it in the `data/garmin/` folder.

2. **Run setup wizard** (first time): `make configure`
    - Select your preferred units
    - Choose a sample Garmin CSV file
    - Map your clubs to ShotPattern identifiers
    - Set target distances for each club

2. **Transform data**: `make run`
    - Select a Garmin CSV file to transform
    - Review detected clubs and their mapping status
    - Configure shot types (Tee/Approach) for each club
    - Review and optionally remove specific shots
    - Export to ShotPattern format

3. **Import to ShotPattern app**
    - Find the transformed CSV in `data/output/`
    - Import into the ShotPattern mobile app

## ğŸ› ï¸ Technical Details

### Dependencies

- **pandas**: Data manipulation and CSV processing
- **click**: Command-line interface framework
- **rich**: Beautiful terminal formatting
- **InquirerPy**: Interactive prompts with cursor navigation

### Data Format

**Input (Garmin CSV):**
- Must contain club name column (configurable)
- Should have distance and deviation columns (configurable)
- First row after headers contains units (automatically skipped)

**Output (ShotPattern format):**
- Club: Mapped club identifier (7i, 8i, GW, etc.)
- Type: "Tee" or "Approach"
- Target: Target distance in meters
- Total: Total distance measurement
- Side: Side deviation measurement

## ğŸ¤ Contributing

Contributions are welcome! Please open issues or pull requests for bug fixes, enhancements, or new features.

## ğŸ“ License

MIT License - see the [LICENSE](LICENSE) file for details.

Copyright (c) 2025 Bastian Winkler

## ğŸ› Troubleshooting
**"Python 3 is not installed"**
- Install Python 3.11+ from [python.org](https://www.python.org/downloads/)

**"Virtual environment not found"**
- Run `make setup` first to create the environment

**"config.json not found"**
- Run `make configure` to generate your configuration file

**"No Garmin CSV files found"**
- Ensure CSV files are in the `data/garmin/` folder
- Check that files have `.csv` extension

**"make: command not found"**
- macOS: Install Xcode Command Line Tools with `xcode-select --install`
- Linux: Install build-essential with `sudo apt-get install build-essential`

## ğŸ’¡ Tips

- Run `make configure` first to set up your club mappings and units
- Keep all your Garmin CSV files in `data/garmin/` for easy access
- Re-run `make configure` anytime to update your configuration
- The setup wizard remembers your previous settings as defaults
- Shot type configuration (Tee/Approach) is done per transformation
- Review the statistics table to catch any data issues
- Use the shot review feature to remove outliers before export
- `config.json` stores your personal settings - don't commit it to version control
- Use `make help` to see all available commands

---

Made with â›³ for better golf shot analysis
